# PRD: 목형 도면 자동화 도구 (DieCut Automator)

## 문서 정보

| 항목 | 내용 |
|------|------|
| 버전 | 2.0 |
| 작성일 | 2024-12-30 |
| 상태 | Draft |
| 검증일 | 2024-12-30 |

---

## 검증 체크리스트

| 검증 항목 | 상태 | 비고 |
|----------|------|------|
| 요구사항 완전성 | ✅ | 누락 항목 추가됨 |
| 엣지 케이스 | ✅ | 예외 상황 정의됨 |
| 알고리즘 상세화 | ✅ | 수식/로직 명확화 |
| 에러 처리 | ✅ | 에러 시나리오 추가 |
| UI/UX 상세화 | ✅ | 인터랙션 정의 추가 |
| 데이터 검증 | ✅ | 입력값 검증 규칙 추가 |
| 기술적 실현 가능성 | ✅ | 검증 완료 |

---

## 1. 제품 개요

### 1.1 제품명
**DieCut Automator** (목형 도면 자동화 도구)

### 1.2 제품 설명
DXF 도면 파일을 레이저 가공 및 톰슨(칼/오시) 작업에 적합한 형태로 자동 변환하는 데스크톱 애플리케이션. 목형 회사에서 반복적으로 수행하는 도면 수정 작업을 자동화하여 작업 시간을 단축하고 휴먼 에러를 방지한다.

### 1.3 목표
- 도면 수정 작업 시간 **70% 이상 단축**
- 수작업으로 인한 실수 **최소화**
- 일관된 품질의 도면 출력

### 1.4 대상 사용자
- 목형 회사 CAD 작업자
- 톰슨/레이저 가공 도면 담당자

### 1.5 핵심 가치
```
입력: 원본 DXF + 작업 정보
출력: 가공 준비 완료된 DXF (브릿지, 합판, 텍스트 포함)
```

---

## 2. 배경 및 문제 정의

### 2.1 현재 상황
- DXF 도면을 수작업으로 수정
- 반복적인 작업 (색상 구분, 브릿지, 합판 제작 등)
- 사용 중인 CAD(DreamCAD 3.5)에 스크립팅 기능 없음
- 작업자마다 결과물 품질 편차 발생

### 2.2 해결하고자 하는 문제

| 문제 | 현재 상태 | 목표 상태 |
|------|----------|----------|
| 작업 시간 | 도면당 15~30분 | 도면당 3~5분 |
| 브릿지 일관성 | 작업자별 상이 | 규칙 기반 일관성 |
| 파일명 오류 | 수동 입력 실수 | 자동 생성 |
| 합판 크기 | 수동 계산 | 자동 계산 |

### 2.3 범위 정의

#### 포함 (In Scope)
- DXF 파일 처리 (읽기/쓰기/수정)
- 2D 엔티티 처리 (LINE, ARC, CIRCLE, POLYLINE, LWPOLYLINE)
- 단일 파일 및 배치 처리
- Windows 데스크톱 애플리케이션

#### 제외 (Out of Scope)
- 3D 엔티티 처리
- DWG 파일 직접 처리 (DXF 변환 후 사용)
- 클라우드/웹 버전
- macOS/Linux 지원 (1차 버전)

---

## 3. 기능 요구사항

### 3.1 입력 설정 (Input Configuration)

#### 3.1.1 파일 입력

| ID | 요구사항 | 우선순위 | 상세 |
|----|----------|----------|------|
| IN-001 | DXF 파일 불러오기 | P0 | 단일 파일 선택 |
| IN-002 | 다중 파일 불러오기 | P1 | 배치 처리용 |
| IN-003 | 드래그 앤 드롭 지원 | P1 | 메인 영역에 드롭 |
| IN-004 | 최근 작업 파일 목록 | P2 | 최대 10개 저장 |

**지원 DXF 버전:**
- R12, R13, R14, R2000, R2004, R2007, R2010, R2013, R2018

**파일 검증:**
```
- 파일 존재 여부
- DXF 형식 유효성
- 파일 크기 제한: 50MB
- 엔티티 개수 제한: 100,000개 (경고 표시)
```

#### 3.1.2 작업 정보 입력

| ID | 요구사항 | 우선순위 | 입력 형식 | 기본값 | 검증 규칙 |
|----|----------|----------|----------|--------|----------|
| IN-010 | 날짜 | P0 | YYMMDD | 오늘 날짜 | 6자리 숫자 |
| IN-011 | 넘버 | P0 | 텍스트 | 빈 값 | 필수, 1~20자 |
| IN-012 | 패키지명 | P0 | 텍스트 | 빈 값 | 필수, 1~50자 |
| IN-013 | 정타/후타 | P0 | 라디오 | 후타 | 필수 선택 |
| IN-014 | 판 종류 | P0 | 라디오 | 자동판 | 필수 선택 |

**판 종류별 하단 여백:**
```
동판: 25mm
자동판: 15mm
```

**입력값 문자 제한:**
```
허용: 한글, 영문, 숫자, 하이픈(-), 언더스코어(_)
금지: 특수문자 (\ / : * ? " < > |)
```

#### 3.1.3 인쇄지 크기 설정

| ID | 요구사항 | 우선순위 | 상세 |
|----|----------|----------|------|
| IN-020 | 절수표 선택 | P0 | 드롭다운 메뉴 |
| IN-021 | 커스텀 크기 입력 | P0 | 가로 × 세로 (mm) |
| IN-022 | 커스텀 크기 저장 | P1 | 이름 지정하여 저장 |
| IN-023 | 커스텀 크기 삭제 | P1 | 저장된 항목 삭제 |

**절수표 기본 규격:**

| 규격명 | 가로 (mm) | 세로 (mm) | 비고 |
|--------|----------|----------|------|
| 국전 | 636 | 939 | |
| 국반절 | 636 | 469 | |
| 국4절 | 318 | 469 | |
| 4×6전 | 788 | 1091 | |
| 4×6반절 | 545 | 788 | |
| 4×6 4절 | 394 | 545 | |
| 46판 | 394 | 545 | 4×6 4절과 동일 |
| A1 | 594 | 841 | ISO 규격 |
| A2 | 420 | 594 | ISO 규격 |
| A3 | 297 | 420 | ISO 규격 |

**커스텀 크기 검증:**
```
최소: 100 × 100 mm
최대: 2000 × 3000 mm
소수점: 1자리까지 허용
```

---

### 3.2 핵심 기능 (Core Features)

#### 3.2.1 칼/오시 엔티티 색상 구분

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FN-001 | 칼 선 색상 지정 | P0 |
| FN-002 | 오시 선 색상 지정 | P0 |
| FN-003 | 분류 규칙 기반 자동 분류 | P0 |
| FN-004 | 분류 규칙 편집 | P1 |
| FN-005 | 미분류 엔티티 처리 | P0 |

**기본 색상:**
```
칼: 빨강 (AutoCAD Color Index: 1, RGB: 255,0,0)
오시: 파랑 (AutoCAD Color Index: 5, RGB: 0,0,255)
합판: 검정 (AutoCAD Color Index: 7, RGB: 255,255,255)
보조선: 녹색 (AutoCAD Color Index: 3, RGB: 0,255,0)
```

**분류 규칙 (우선순위 순):**
```
1순위: 레이어명 매칭
   - 칼: "CUT", "칼", "KNIFE", "C", "K", "DIE"
   - 오시: "CREASE", "오시", "FOLD", "CR", "F", "SCORE"

2순위: 기존 색상 매칭
   - 칼: 빨강 계열 (ACI 1, 10~19)
   - 오시: 파랑 계열 (ACI 5, 140~149)

3순위: 선 종류 (Linetype)
   - 칼: CONTINUOUS, SOLID
   - 오시: DASHED, CENTER, DOT
```

**미분류 엔티티 처리:**
```
옵션 A: 기본값(칼)으로 처리
옵션 B: 별도 레이어로 분리 후 사용자 확인 요청
옵션 C: 처리에서 제외
→ 사용자 설정 가능 (기본값: B)
```

#### 3.2.2 브릿지 자동 적용

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FN-010 | 직선(LINE)에만 브릿지 적용 | P0 |
| FN-011 | 브릿지 규칙 엔진 | P0 |
| FN-012 | 브릿지 크기(갭) 설정 | P0 |
| FN-013 | 칼/오시 별도 설정 | P1 |
| FN-014 | 브릿지 위치 미리보기 | P1 |
| FN-015 | 수동 브릿지 추가 | P2 |
| FN-016 | 수동 브릿지 제거 | P2 |
| FN-017 | POLYLINE 세그먼트 처리 | P1 |

**브릿지 배치 규칙:**

```
┌─────────────────────────────────────────────────────────┐
│ 선 길이 (L)          │ 브릿지 개수    │ 배치 방식       │
├─────────────────────────────────────────────────────────┤
│ L < 20mm            │ 0개           │ 브릿지 없음      │
│ 20mm ≤ L < 50mm     │ 1개           │ 중앙            │
│ 50mm ≤ L            │ N개           │ 균등 배치       │
│                     │ N = ⌊L/60⌋+1  │ (간격 조절)     │
└─────────────────────────────────────────────────────────┘
```

**브릿지 배치 알고리즘 (상세):**

```python
def calculate_bridges(line_length, min_length=20, single_max=50, 
                      target_interval=60, gap_size=3, edge_margin=10):
    """
    브릿지 위치 계산
    
    Parameters:
    - line_length: 선의 길이 (mm)
    - min_length: 브릿지 적용 최소 길이 (기본 20mm)
    - single_max: 단일 브릿지 최대 길이 (기본 50mm)
    - target_interval: 목표 간격 (기본 60mm, 범위 50~70mm)
    - gap_size: 브릿지 갭 크기 (기본 3mm)
    - edge_margin: 선 끝에서 최소 거리 (기본 10mm)
    
    Returns:
    - List of bridge center positions (0~1 비율)
    """
    
    if line_length < min_length:
        return []  # 브릿지 없음
    
    if line_length < single_max:
        return [0.5]  # 중앙에 1개
    
    # 유효 길이 (양 끝 마진 제외)
    effective_length = line_length - (2 * edge_margin)
    
    if effective_length <= 0:
        return [0.5]  # 마진보다 짧으면 중앙에 1개
    
    # 브릿지 개수 계산
    bridge_count = max(1, round(effective_length / target_interval))
    
    # 실제 간격 계산 (50~70mm 범위 내 조정)
    actual_interval = effective_length / bridge_count
    
    # 간격이 범위를 벗어나면 개수 조정
    if actual_interval > 70:
        bridge_count += 1
        actual_interval = effective_length / bridge_count
    elif actual_interval < 50 and bridge_count > 1:
        bridge_count -= 1
        actual_interval = effective_length / bridge_count
    
    # 브릿지 위치 계산 (비율)
    positions = []
    for i in range(bridge_count):
        # 첫 브릿지 위치 + 간격 * i
        pos = edge_margin + (actual_interval / 2) + (actual_interval * i)
        positions.append(pos / line_length)
    
    return positions
```

**브릿지 생성 방식:**
```
원본 LINE: ────────────────────────────────
                    ↓
브릿지 적용: ─────────   ─────────   ─────────
                   ↑         ↑         ↑
               gap_size  gap_size  gap_size

구현: 원본 LINE을 삭제하고, 브릿지 위치를 제외한 
      여러 개의 짧은 LINE으로 분할하여 생성
```

**POLYLINE/LWPOLYLINE 처리:**
```
1. POLYLINE을 개별 세그먼트로 분해
2. 직선 세그먼트에만 브릿지 적용
3. 호(Arc) 세그먼트는 브릿지 제외
4. 분해된 세그먼트들을 개별 LINE으로 저장
```

**브릿지 설정 파라미터:**

| 파라미터 | 기본값 | 최소 | 최대 | 단위 |
|----------|--------|------|------|------|
| 최소 길이 | 20 | 10 | 50 | mm |
| 단일 최대 길이 | 50 | 30 | 100 | mm |
| 목표 간격 | 60 | 40 | 100 | mm |
| 갭 크기 | 3 | 1 | 10 | mm |
| 끝 마진 | 10 | 5 | 30 | mm |

#### 3.2.3 아크 선분 연결

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FN-020 | 끝점 거리 기반 연결 | P0 |
| FN-021 | 허용 오차 설정 | P0 |
| FN-022 | LINE-LINE 연결 | P0 |
| FN-023 | LINE-ARC 연결 | P1 |
| FN-024 | ARC-ARC 연결 | P1 |
| FN-025 | 연결 결과 리포트 | P1 |

**연결 알고리즘:**

```python
def find_connectable_entities(entities, tolerance=0.1):
    """
    연결 가능한 엔티티 쌍 찾기
    
    Parameters:
    - entities: 엔티티 리스트
    - tolerance: 허용 오차 (기본 0.1mm)
    
    Process:
    1. 모든 엔티티의 시작점/끝점 추출
    2. 공간 인덱싱 (R-tree 등)으로 근접 점 탐색
    3. tolerance 이내의 점 쌍 식별
    4. 연결 가능 여부 판단
    """
    
    connections = []
    
    for i, entity_a in enumerate(entities):
        for j, entity_b in enumerate(entities):
            if i >= j:
                continue
            
            # 끝점 간 거리 계산
            distances = [
                (entity_a.end, entity_b.start),
                (entity_a.end, entity_b.end),
                (entity_a.start, entity_b.start),
                (entity_a.start, entity_b.end)
            ]
            
            for point_a, point_b in distances:
                dist = calculate_distance(point_a, point_b)
                if dist <= tolerance and dist > 0:
                    connections.append({
                        'entity_a': entity_a,
                        'entity_b': entity_b,
                        'gap': dist,
                        'points': (point_a, point_b)
                    })
    
    return connections

def merge_entities(entity_a, entity_b, connection_point):
    """
    두 엔티티를 하나로 병합
    
    LINE + LINE → LINE (직선인 경우) 또는 POLYLINE
    LINE + ARC → POLYLINE
    ARC + ARC → POLYLINE
    """
    pass
```

**연결 규칙:**
```
1. 거리 조건: 두 끝점 간 거리 ≤ tolerance (기본 0.1mm)
2. 연속성 조건: 연결 시 급격한 방향 변화 없음 (선택적)
3. 레이어 조건: 동일 레이어의 엔티티만 연결 (선택적)
4. 색상 조건: 동일 색상의 엔티티만 연결 (선택적)
```

**허용 오차 설정:**
```
기본값: 0.1mm
범위: 0.01mm ~ 1.0mm
권장: 0.05mm ~ 0.2mm
```

#### 3.2.4 정타/후타 처리

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FN-030 | 정타: X축 미러링 | P0 |
| FN-031 | 후타: 원본 유지 | P0 |
| FN-032 | 정타/후타 텍스트 삽입 | P0 |
| FN-033 | 텍스트 위치/스타일 설정 | P1 |

**미러링 상세:**

```
정타 (Front Side):
- 미러 축: Y축 (수직선)
- 미러 기준: 도면의 중심점 X좌표
- 변환: 모든 엔티티의 X좌표를 반전
  새 X = 2 * 중심X - 원래 X

후타 (Back Side):
- 변환 없음, 원본 그대로 사용
```

**미러링 시 주의사항:**
```
1. 텍스트 엔티티: 미러 후에도 읽을 수 있도록 재반전
2. 블록 참조: 블록 내부도 미러링 적용
3. 해치: 해치 패턴 방향 조정
4. 치수: 치수 값은 유지, 위치만 미러
```

**정타/후타 텍스트:**
```
내용: "정타" 또는 "후타"
위치: 도면 우측 상단 또는 합판 내 지정 위치
높이: 기본 5mm (설정 가능: 3~20mm)
폰트: 기본 시스템 폰트 (설정 가능)
색상: 검정 (설정 가능)
```

#### 3.2.5 일자칼 삽입

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FN-040 | 도면 좌우로 일자칼 생성 | P0 |
| FN-041 | 일자칼에 브릿지 적용 | P0 |
| FN-042 | 일자칼 Y위치 결정 | P0 |
| FN-043 | 복수 일자칼 지원 | P1 |

**일자칼 생성 로직:**

```
목적: 도면이 인쇄지 크기를 초과할 때 좌우로 연장선 추가

┌──────────────────────────────────────────────┐
│                    합판                       │
│  ┌─────────────────────────────────────────┐ │
│  │                                         │ │
│  │              도면 영역                   │ │
│──┼─────────────────────────────────────────┼─│ ← 일자칼
│  │              (원본)                     │ │
│  │                                         │ │
│  └─────────────────────────────────────────┘ │
│                                              │
└──────────────────────────────────────────────┘

일자칼 = 합판 좌측 끝 ─────── 도면 좌측 + 도면 우측 ─────── 합판 우측 끝
```

**일자칼 Y위치 결정 알고리즘:**

```python
def determine_straight_knife_y_positions(drawing_entities, paper_height):
    """
    일자칼의 Y 위치 결정
    
    방법 1: 도면 중심 Y좌표 (단순)
    방법 2: 도면의 주요 수평선 Y좌표들 (정밀)
    방법 3: 사용자 지정
    """
    
    # 방법 1: 중심 기준
    bbox = calculate_bounding_box(drawing_entities)
    center_y = (bbox.min_y + bbox.max_y) / 2
    
    return [center_y]
    
    # 방법 2: 주요 수평선 감지 (고급)
    horizontal_lines = find_horizontal_lines(drawing_entities)
    major_y_positions = cluster_y_positions(horizontal_lines)
    
    return major_y_positions
```

**일자칼 생성:**
```python
def create_straight_knives(drawing_bbox, paper_bbox, y_positions, bridge_settings):
    """
    일자칼 LINE 생성
    
    Parameters:
    - drawing_bbox: 도면 바운딩 박스
    - paper_bbox: 합판(인쇄지) 바운딩 박스
    - y_positions: 일자칼 Y좌표 리스트
    - bridge_settings: 브릿지 설정
    
    Returns:
    - List of LINE entities (브릿지 적용됨)
    """
    
    knives = []
    
    for y in y_positions:
        # 좌측 일자칼
        left_knife = Line(
            start=(paper_bbox.min_x, y),
            end=(drawing_bbox.min_x, y)
        )
        
        # 우측 일자칼
        right_knife = Line(
            start=(drawing_bbox.max_x, y),
            end=(paper_bbox.max_x, y)
        )
        
        # 브릿지 적용
        left_with_bridges = apply_bridges(left_knife, bridge_settings)
        right_with_bridges = apply_bridges(right_knife, bridge_settings)
        
        knives.extend(left_with_bridges)
        knives.extend(right_with_bridges)
    
    return knives
```

#### 3.2.6 합판 사각형 생성

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FN-050 | 바운딩 박스 계산 | P0 |
| FN-051 | 여백 적용 | P0 |
| FN-052 | 합판 사각형 생성 | P0 |
| FN-053 | 도면 위치 조정 | P0 |
| FN-054 | 합판 레이어/색상 설정 | P1 |

**합판 크기 및 도면 배치:**

```
┌────────────────────────────────────────────┐
│←──────────── 인쇄지 가로 ──────────────────→│
│                                            │ ↑
│  여백 상단 (기본 10mm)                      │ │
│  ┌──────────────────────────────────────┐  │ │
│  │                                      │  │ │
│  │                                      │  │ 인
│  │           도면 영역                   │  │ 쇄
│  │                                      │  │ 지
│  │                                      │  │ 세
│  └──────────────────────────────────────┘  │ 로
│  여백 하단 (동판:25mm / 자동판:15mm)        │ │
│                                            │ ↓
└────────────────────────────────────────────┘
  ↑                                        ↑
  여백 좌측                              여백 우측
  (기본 10mm)                           (기본 10mm)
```

**도면 배치 계산:**

```python
def calculate_drawing_position(drawing_bbox, paper_size, plate_type, margins):
    """
    도면의 최종 위치 계산
    
    Parameters:
    - drawing_bbox: 원본 도면 바운딩 박스
    - paper_size: 인쇄지 크기 (width, height)
    - plate_type: 'copper' (동판) 또는 'auto' (자동판)
    - margins: 여백 설정
    
    Returns:
    - 이동해야 할 offset (dx, dy)
    """
    
    # 하단 여백
    bottom_margin = 25 if plate_type == 'copper' else 15
    
    # 좌우 중앙 정렬
    drawing_width = drawing_bbox.max_x - drawing_bbox.min_x
    available_width = paper_size.width - margins.left - margins.right
    offset_x = margins.left + (available_width - drawing_width) / 2 - drawing_bbox.min_x
    
    # 하단 여백 기준 배치
    offset_y = bottom_margin - drawing_bbox.min_y
    
    return (offset_x, offset_y)
```

**합판 사각형 생성:**
```python
def create_plywood_rectangle(paper_size):
    """
    합판 외곽 사각형 생성
    
    Returns:
    - LWPOLYLINE (닫힌 사각형)
    """
    
    points = [
        (0, 0),
        (paper_size.width, 0),
        (paper_size.width, paper_size.height),
        (0, paper_size.height),
        (0, 0)  # 닫힘
    ]
    
    return LWPolyline(points, layer="PLYWOOD", color=7)
```

**여백 설정:**

| 여백 | 기본값 | 최소 | 최대 | 비고 |
|------|--------|------|------|------|
| 상단 | 10mm | 5mm | 50mm | |
| 하단 (동판) | 25mm | 20mm | 50mm | 고정 권장 |
| 하단 (자동판) | 15mm | 10mm | 50mm | 고정 권장 |
| 좌측 | 10mm | 5mm | 50mm | |
| 우측 | 10mm | 5mm | 50mm | |

#### 3.2.7 텍스트 정보 작성

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FN-060 | 작업 정보 텍스트 생성 | P0 |
| FN-061 | 텍스트 위치 지정 | P0 |
| FN-062 | 텍스트 스타일 설정 | P1 |

**텍스트 내용 형식:**
```
{날짜}-{넘버}-{패키지명} {인쇄지크기}

예시:
241230-001-ABC패키지 국전
241230-002-XYZ박스 4×6전
241230-003-테스트 650x900
```

**텍스트 위치:**
```
위치: 합판 좌측 상단
좌표: (margin_left + 5mm, paper_height - margin_top - text_height - 5mm)

┌────────────────────────────────────────────┐
│  241230-001-ABC패키지 국전    ← 텍스트      │
│                                            │
│  ┌──────────────────────────────────────┐  │
│  │                                      │  │
```

**텍스트 속성:**

| 속성 | 기본값 | 설정 가능 범위 |
|------|--------|---------------|
| 높이 | 5mm | 2~20mm |
| 폰트 | simplex | 시스템 SHX 폰트 |
| 색상 | 검정 (7) | ACI 1~255 |
| 회전 | 0° | 0~360° |
| 정렬 | 좌측 하단 | 9방향 |

#### 3.2.8 불필요 요소 제거

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FN-070 | 합판 외부 요소 식별 | P0 |
| FN-071 | 외부 요소 자동 제거 | P0 |
| FN-072 | 제외 레이어 설정 | P1 |
| FN-073 | 제거 전 확인 | P1 |

**제거 대상 판별:**
```python
def identify_elements_to_remove(entities, plywood_bbox, exclude_layers):
    """
    제거할 요소 식별
    
    제거 대상:
    1. 합판 바운딩 박스 완전 외부에 있는 엔티티
    2. 제외 레이어가 아닌 것
    
    유지 대상:
    - 합판 사각형 자체
    - 합판 내부 또는 경계에 걸친 엔티티
    - 작업 정보 텍스트
    - 제외 레이어의 엔티티
    """
    
    to_remove = []
    
    for entity in entities:
        entity_bbox = get_entity_bbox(entity)
        
        # 완전 외부 판별
        if is_completely_outside(entity_bbox, plywood_bbox):
            if entity.layer not in exclude_layers:
                to_remove.append(entity)
    
    return to_remove
```

**제거 확인 옵션:**
```
- 자동 제거 (확인 없음)
- 제거 전 목록 표시 및 확인
- 제거 항목 하이라이트 후 확인
```

#### 3.2.9 파일 저장

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FN-080 | DXF 형식 저장 | P0 |
| FN-081 | 자동 파일명 생성 | P0 |
| FN-082 | 저장 경로 선택 | P0 |
| FN-083 | 기본 저장 경로 설정 | P1 |
| FN-084 | 덮어쓰기 확인 | P0 |
| FN-085 | 저장 후 열기 옵션 | P2 |

**파일명 생성 규칙:**
```
형식: {날짜}-{넘버}-{패키지명}-{인쇄지크기}.dxf

문자 치환:
- 공백 → 언더스코어(_)
- 특수문자 제거: \ / : * ? " < > |
- × → x (곱하기 기호)

예시:
입력: 날짜=241230, 넘버=001, 패키지명=ABC 패키지, 인쇄지=4×6전
출력: 241230-001-ABC_패키지-4x6전.dxf
```

**저장 DXF 버전:**
```
기본: AutoCAD 2010 (AC1024) - 호환성 최적
선택 가능: R12, R2000, R2004, R2007, R2010, R2013, R2018
```

---

### 3.3 미리보기 및 검증

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| PV-001 | 실시간 도면 미리보기 | P0 |
| PV-002 | 확대/축소 | P0 |
| PV-003 | 이동(Pan) | P0 |
| PV-004 | 전체 보기(Fit) | P0 |
| PV-005 | 작업 전/후 비교 | P1 |
| PV-006 | 레이어별 표시/숨김 | P1 |
| PV-007 | 브릿지 위치 하이라이트 | P1 |
| PV-008 | 그리드 표시 | P2 |

**미리보기 조작:**
```
마우스 휠: 확대/축소
마우스 드래그: 이동
더블 클릭: 전체 보기
우클릭 메뉴: 추가 옵션
```

**비교 모드:**
```
좌우 분할: 원본 | 결과
슬라이더: 오버레이 비교
토글: 원본/결과 전환
```

---

### 3.4 설정 및 프리셋

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| ST-001 | 프리셋 저장 | P1 |
| ST-002 | 프리셋 불러오기 | P1 |
| ST-003 | 프리셋 삭제 | P1 |
| ST-004 | 기본값 복원 | P1 |
| ST-005 | 설정 내보내기/가져오기 | P2 |

**프리셋 포함 항목:**
```
- 브릿지 설정 (간격, 크기, 마진)
- 색상 설정 (칼, 오시, 합판)
- 여백 설정
- 텍스트 스타일
- 레이어 매핑 규칙
- 기본 저장 경로
```

---

## 4. 비기능 요구사항

### 4.1 성능

| ID | 요구사항 | 목표값 | 측정 방법 |
|----|----------|--------|----------|
| NF-001 | 파일 로딩 시간 | < 3초 (1MB 기준) | 타이머 |
| NF-002 | 자동화 처리 시간 | < 5초 (일반 도면) | 타이머 |
| NF-003 | 대용량 파일 처리 | < 30초 (10MB) | 타이머 |
| NF-004 | 메모리 사용량 | < 500MB | 모니터링 |
| NF-005 | UI 응답성 | < 100ms | 체감 |

### 4.2 호환성

| ID | 요구사항 | 상세 |
|----|----------|------|
| NF-010 | DXF 입력 버전 | R12 ~ R2018 |
| NF-011 | DXF 출력 버전 | R2010 (기본), 선택 가능 |
| NF-012 | 운영체제 | Windows 10/11 (64bit) |
| NF-013 | 화면 해상도 | 1280×720 이상 |
| NF-014 | 외부 CAD 호환 | AutoCAD, DreamCAD 테스트 완료 |

### 4.3 안정성

| ID | 요구사항 | 상세 |
|----|----------|------|
| NF-020 | 크래시 복구 | 자동 저장 (1분 간격) |
| NF-021 | 실행 취소 | 최대 50단계 |
| NF-022 | 에러 로깅 | 상세 로그 파일 생성 |
| NF-023 | 원본 보존 | 원본 파일 수정 안 함 |

### 4.4 사용성

| ID | 요구사항 | 상세 |
|----|----------|------|
| NF-030 | 언어 | 한국어 (기본), 영어 (옵션) |
| NF-031 | 단축키 | 주요 기능 단축키 제공 |
| NF-032 | 도움말 | 내장 도움말 및 툴팁 |
| NF-033 | 학습 곡선 | 30분 이내 기본 사용 가능 |

---

## 5. 에러 처리

### 5.1 에러 시나리오 및 대응

| 시나리오 | 에러 메시지 | 대응 |
|----------|------------|------|
| 파일 없음 | "파일을 찾을 수 없습니다" | 파일 선택 다이얼로그 표시 |
| 잘못된 DXF | "유효하지 않은 DXF 파일입니다" | 상세 오류 표시, 다른 파일 선택 유도 |
| 파일 크기 초과 | "파일이 너무 큽니다 (최대 50MB)" | 분할 또는 최적화 안내 |
| 엔티티 없음 | "처리할 엔티티가 없습니다" | 레이어 확인 안내 |
| 저장 실패 | "파일 저장에 실패했습니다" | 권한 확인, 다른 경로 선택 |
| 도면 > 인쇄지 | "도면이 인쇄지보다 큽니다" | 경고 후 진행 또는 크기 조정 |
| 메모리 부족 | "메모리가 부족합니다" | 다른 프로그램 종료 안내 |

### 5.2 검증 체크포인트

```
파일 로딩 후:
□ DXF 파싱 성공 여부
□ 엔티티 개수 확인
□ 지원 엔티티 타입 확인

처리 전:
□ 필수 입력값 검증
□ 인쇄지 크기 vs 도면 크기 비교
□ 레이어/색상 매핑 확인

처리 후:
□ 결과 엔티티 유효성
□ 파일 저장 가능 여부
```

---

## 6. 기술 스택

### 6.1 확정 기술

| 구분 | 기술 | 버전 | 비고 |
|------|------|------|------|
| 언어 | Python | 3.10+ | 타입 힌트 활용 |
| DXF 처리 | ezdxf | 1.0+ | 읽기/쓰기/수정 |
| GUI | PyQt6 | 6.4+ | 크로스 플랫폼 UI |
| 그래픽 | PyQt6 QPainter | - | 도면 렌더링 |
| 패키징 | PyInstaller | 5.0+ | exe 배포 |
| 설정 저장 | JSON | - | 사람이 읽을 수 있는 형식 |
| 로깅 | logging | 내장 | 표준 라이브러리 |

### 6.2 프로젝트 구조

```
diecut-automator/
├── src/
│   ├── main.py                 # 진입점
│   ├── app.py                  # 애플리케이션 클래스
│   ├── ui/
│   │   ├── main_window.py      # 메인 윈도우
│   │   ├── input_panel.py      # 입력 패널
│   │   ├── preview_widget.py   # 미리보기 위젯
│   │   └── dialogs/            # 다이얼로그들
│   ├── core/
│   │   ├── dxf_handler.py      # DXF 읽기/쓰기
│   │   ├── processor.py        # 메인 처리 로직
│   │   ├── bridge.py           # 브릿지 알고리즘
│   │   ├── mirror.py           # 미러링 처리
│   │   ├── merge.py            # 선분 연결
│   │   └── geometry.py         # 기하 연산
│   ├── models/
│   │   ├── settings.py         # 설정 데이터 모델
│   │   ├── job.py              # 작업 정보 모델
│   │   └── paper.py            # 인쇄지 규격 모델
│   └── utils/
│       ├── config.py           # 설정 관리
│       ├── logger.py           # 로깅
│       └── validators.py       # 입력 검증
├── resources/
│   ├── icons/                  # 아이콘
│   ├── styles/                 # QSS 스타일
│   └── defaults.json           # 기본 설정
├── tests/
│   ├── test_bridge.py
│   ├── test_processor.py
│   └── fixtures/               # 테스트용 DXF
├── docs/
│   └── user_manual.md
├── requirements.txt
├── setup.py
└── README.md
```

### 6.3 의존성

```
# requirements.txt
ezdxf>=1.0.0
PyQt6>=6.4.0
pyinstaller>=5.0.0
```

---

## 7. 사용자 인터페이스

### 7.1 메인 화면 상세 레이아웃

```
┌─────────────────────────────────────────────────────────────────────────┐
│  파일(F)  편집(E)  보기(V)  도구(T)  설정(S)  도움말(H)                    │
├─────────────────────────────────────────────────────────────────────────┤
│  [📂열기] [💾저장] [▶실행] | [🔍+] [🔍-] [⬜전체] | [⚙설정] [❓도움말]      │
├────────────────────────┬────────────────────────────────────────────────┤
│                        │                                                │
│  ┌─ 파일 정보 ───────┐ │                                                │
│  │ 파일: example.dxf │ │                                                │
│  │ 크기: 1.2 MB      │ │                                                │
│  │ 엔티티: 2,345개   │ │                                                │
│  └──────────────────┘ │                                                │
│                        │                                                │
│  ┌─ 작업 정보 ───────┐ │            도면 미리보기 영역                   │
│  │                   │ │                                                │
│  │ 날짜: [241230  ]  │ │        ┌─────────────────────┐                 │
│  │ 넘버: [001     ]  │ │        │                     │                 │
│  │ 패키지명:         │ │        │    [도면 표시]       │                 │
│  │ [ABC패키지     ]  │ │        │                     │                 │
│  │                   │ │        └─────────────────────┘                 │
│  │ ○ 정타  ● 후타   │ │                                                │
│  │ ○ 동판  ● 자동판 │ │     마우스: 휠=확대축소, 드래그=이동            │
│  │                   │ │                                                │
│  └──────────────────┘ │                                                │
│                        │                                                │
│  ┌─ 인쇄지 크기 ─────┐ │                                                │
│  │                   │ │                                                │
│  │ ● 절수표 선택     │ │                                                │
│  │   [국전      ▼]   │ │                                                │
│  │                   │ │                                                │
│  │ ○ 직접 입력       │ │                                                │
│  │   가로:[    ] mm  │ │                                                │
│  │   세로:[    ] mm  │ │                                                │
│  │                   │ │────────────────────────────────────────────────│
│  └──────────────────┘ │  탭: [원본] [결과] [비교]                       │
│                        │                                                │
│  ┌─ 브릿지 설정 ─────┐ │                                                │
│  │ 간격: [60  ] mm   │ │                                                │
│  │ 크기: [3   ] mm   │ │                                                │
│  │ [상세 설정...]    │ │                                                │
│  └──────────────────┘ │                                                │
│                        │                                                │
│  ┌──────────────────┐ │                                                │
│  │                   │ │                                                │
│  │  [▶ 자동화 실행]  │ │                                                │
│  │                   │ │                                                │
│  └──────────────────┘ │                                                │
│                        │                                                │
├────────────────────────┴────────────────────────────────────────────────┤
│  준비됨 | 도면: 636 × 450 mm | 인쇄지: 국전 (636 × 939)                  │
└─────────────────────────────────────────────────────────────────────────┘
```

### 7.2 브릿지 상세 설정 다이얼로그

```
┌─ 브릿지 상세 설정 ─────────────────────────────┐
│                                                │
│  ┌─ 기본 설정 ──────────────────────────────┐  │
│  │                                          │  │
│  │  최소 길이:      [20    ] mm             │  │
│  │  (이 길이 미만은 브릿지 없음)             │  │
│  │                                          │  │
│  │  단일 브릿지 최대: [50    ] mm            │  │
│  │  (이 길이까지 중앙에 1개)                 │  │
│  │                                          │  │
│  │  목표 간격:      [60    ] mm             │  │
│  │  (50~70mm 범위 내 자동 조절)             │  │
│  │                                          │  │
│  │  갭 크기:        [3     ] mm             │  │
│  │  (브릿지 절단 길이)                       │  │
│  │                                          │  │
│  │  끝 마진:        [10    ] mm             │  │
│  │  (선 끝에서 첫 브릿지까지 거리)           │  │
│  │                                          │  │
│  └──────────────────────────────────────────┘  │
│                                                │
│  ┌─ 칼/오시 별도 설정 ──────────────────────┐  │
│  │  □ 칼/오시 별도 설정 사용                │  │
│  │                                          │  │
│  │     칼 간격: [60] mm  갭: [3] mm          │  │
│  │    오시 간격: [50] mm  갭: [2] mm          │  │
│  └──────────────────────────────────────────┘  │
│                                                │
│           [기본값 복원]  [취소]  [확인]         │
│                                                │
└────────────────────────────────────────────────┘
```

### 7.3 워크플로우 상세

```
┌──────────────────────────────────────────────────────────────────┐
│                        사용자 워크플로우                          │
└──────────────────────────────────────────────────────────────────┘

    ┌─────────┐
    │  시작   │
    └────┬────┘
         │
         ▼
    ┌─────────────┐     ┌─────────────────────────────────┐
    │ DXF 파일    │────→│ 검증: 파일 존재, 형식, 크기      │
    │ 열기        │     └─────────────────────────────────┘
    └─────┬───────┘                    │
          │                            ▼ 실패 시
          │                    ┌───────────────┐
          │                    │ 에러 메시지    │
          │                    │ 다시 선택     │
          │                    └───────────────┘
          ▼
    ┌─────────────┐
    │ 도면 미리   │ ← 자동 실행
    │ 보기 표시   │
    └─────┬───────┘
          │
          ▼
    ┌─────────────┐     ┌─────────────────────────────────┐
    │ 작업 정보   │────→│ 필수값: 날짜, 넘버, 패키지명      │
    │ 입력        │     │ 선택값: 정타/후타, 판종류        │
    └─────┬───────┘     └─────────────────────────────────┘
          │
          ▼
    ┌─────────────┐     ┌─────────────────────────────────┐
    │ 인쇄지 크기 │────→│ 절수표 선택 또는 직접 입력       │
    │ 설정        │     └─────────────────────────────────┘
    └─────┬───────┘
          │
          ▼
    ┌─────────────┐     ┌─────────────────────────────────┐
    │ 브릿지 설정 │────→│ 기본값 사용 또는 상세 설정       │
    │ (선택)      │     └─────────────────────────────────┘
    └─────┬───────┘
          │
          ▼
    ┌─────────────┐
    │ [자동화     │
    │  실행] 클릭 │
    └─────┬───────┘
          │
          ▼
    ┌─────────────────────────────────────────────────────┐
    │                    처리 단계                         │
    │                                                     │
    │  1. 칼/오시 색상 구분                                │
    │  2. 정타면 미러링                                   │
    │  3. 선분 연결 (옵션)                                │
    │  4. 도면 위치 조정                                  │
    │  5. 브릿지 적용                                     │
    │  6. 일자칼 삽입                                     │
    │  7. 합판 사각형 생성                                │
    │  8. 텍스트 삽입                                     │
    │  9. 외부 요소 제거                                  │
    │                                                     │
    │  [■■■■■■■■░░] 80% - 브릿지 적용 중...              │
    │                                                     │
    └─────────────────────────────────────────────────────┘
          │
          ▼
    ┌─────────────┐
    │ 결과 미리   │ ← 탭 자동 전환
    │ 보기        │
    └─────┬───────┘
          │
          ▼
    ┌─────────────┐     ┌─────────────────────────────────┐
    │ 결과 확인   │────→│ 문제 시: 설정 조정 후 재실행     │
    └─────┬───────┘     └─────────────────────────────────┘
          │
          ▼
    ┌─────────────┐     ┌─────────────────────────────────┐
    │ 파일 저장   │────→│ 자동 파일명 생성                 │
    │             │     │ 경로 선택 (기본: 마지막 경로)    │
    └─────┬───────┘     └─────────────────────────────────┘
          │
          ▼
    ┌─────────┐
    │  완료   │
    └─────────┘
```

### 7.4 단축키

| 단축키 | 기능 |
|--------|------|
| Ctrl+O | 파일 열기 |
| Ctrl+S | 저장 |
| Ctrl+Shift+S | 다른 이름으로 저장 |
| F5 | 자동화 실행 |
| Ctrl+Z | 실행 취소 |
| Ctrl+Y | 다시 실행 |
| Ctrl++ | 확대 |
| Ctrl+- | 축소 |
| Ctrl+0 | 전체 보기 |
| F1 | 도움말 |

---

## 8. 데이터 모델

### 8.1 설정 파일 (settings.json)

```json
{
  "version": "1.0",
  "bridge": {
    "min_length": 20,
    "single_bridge_max": 50,
    "target_interval": 60,
    "gap_size": 3,
    "edge_margin": 10,
    "separate_cut_crease": false,
    "cut_settings": {
      "interval": 60,
      "gap_size": 3
    },
    "crease_settings": {
      "interval": 50,
      "gap_size": 2
    }
  },
  "colors": {
    "cut": {"aci": 1, "rgb": [255, 0, 0]},
    "crease": {"aci": 5, "rgb": [0, 0, 255]},
    "plywood": {"aci": 7, "rgb": [255, 255, 255]},
    "auxiliary": {"aci": 3, "rgb": [0, 255, 0]}
  },
  "margins": {
    "top": 10,
    "bottom_copper": 25,
    "bottom_auto": 15,
    "left": 10,
    "right": 10
  },
  "text": {
    "height": 5,
    "font": "simplex",
    "color": 7
  },
  "merge": {
    "enabled": true,
    "tolerance": 0.1,
    "same_layer_only": true,
    "same_color_only": true
  },
  "layer_mapping": {
    "cut": ["CUT", "칼", "KNIFE", "C", "K", "DIE"],
    "crease": ["CREASE", "오시", "FOLD", "CR", "F", "SCORE"]
  },
  "unclassified_handling": "separate",
  "paper_sizes": {
    "standard": {
      "국전": {"width": 636, "height": 939},
      "국반절": {"width": 636, "height": 469},
      "국4절": {"width": 318, "height": 469},
      "4×6전": {"width": 788, "height": 1091},
      "4×6반절": {"width": 545, "height": 788},
      "4×6 4절": {"width": 394, "height": 545}
    },
    "custom": []
  },
  "output": {
    "dxf_version": "AC1024",
    "default_path": "",
    "open_after_save": false
  },
  "recent_files": [],
  "presets": []
}
```

### 8.2 작업 세션 (JobSession)

```python
@dataclass
class JobSession:
    # 입력 파일
    input_file: str
    input_entities: List[Entity]
    
    # 작업 정보
    date: str          # YYMMDD
    number: str        # 작업 번호
    package_name: str  # 패키지명
    side: str          # 'front' 또는 'back'
    plate_type: str    # 'copper' 또는 'auto'
    
    # 인쇄지 설정
    paper_name: str
    paper_width: float
    paper_height: float
    
    # 처리 결과
    output_entities: List[Entity]
    output_file: str
    
    # 메타 정보
    created_at: datetime
    processed_at: datetime
    status: str        # 'pending', 'processing', 'completed', 'error'
    error_message: str
```

---

## 9. 개발 로드맵

### Phase 1: MVP (4주)

**목표: 핵심 기능 동작 확인**

| 주차 | 작업 | 세부 내용 | 산출물 |
|------|------|----------|--------|
| 1주 | 프로젝트 셋업 | 환경 구성, 기본 구조, DXF 읽기/쓰기 | 프로젝트 스켈레톤 |
| 2주 | 기본 UI + 색상/미러 | 메인 윈도우, 입력 패널, 색상 구분, 미러링 | 기본 UI 동작 |
| 3주 | 브릿지 + 합판 | 브릿지 알고리즘, 합판 사각형, 텍스트 | 핵심 처리 완료 |
| 4주 | 통합 + 테스트 | 전체 워크플로우, 저장, 버그 수정 | MVP 릴리즈 |

**MVP 기능 체크리스트:**
- [x] DXF 파일 열기/저장
- [x] 작업 정보 입력 (날짜, 넘버, 패키지명, 정타/후타, 판종류)
- [x] 인쇄지 크기 (절수표 + 직접 입력)
- [x] 칼/오시 색상 구분
- [x] 브릿지 자동 적용
- [x] 정타/후타 미러링
- [x] 합판 사각형 생성
- [x] 텍스트 정보 삽입
- [x] 외부 요소 제거
- [x] 자동 파일명 저장
- [x] 기본 미리보기

### Phase 2: 개선 (2주)

| 작업 | 세부 내용 |
|------|----------|
| 선분 연결 | 아크 선분 연결 기능 |
| 일자칼 | 좌우 일자칼 삽입 (브릿지 포함) |
| 미리보기 개선 | 확대/축소/이동, 전/후 비교 |
| 설정 프리셋 | 저장/불러오기 |
| 절수표 관리 | 추가/수정/삭제 |

### Phase 3: 고도화 (2주)

| 작업 | 세부 내용 |
|------|----------|
| 배치 처리 | 다중 파일 일괄 처리 |
| 수동 브릿지 | 추가/제거 편집 |
| 실행 취소 | Undo/Redo 기능 |
| 단축키 | 주요 기능 단축키 |
| 사용자 매뉴얼 | 도움말 문서 |

---

## 10. 테스트 계획

### 10.1 단위 테스트

| 모듈 | 테스트 항목 |
|------|------------|
| bridge.py | 길이별 브릿지 개수, 위치 계산 정확도 |
| geometry.py | 바운딩 박스, 거리 계산, 미러 변환 |
| merge.py | 선분 연결 판별, 병합 결과 |
| validators.py | 입력값 검증 (날짜, 파일명 등) |

### 10.2 통합 테스트

| 시나리오 | 검증 항목 |
|----------|----------|
| 전체 워크플로우 | 입력→처리→저장 정상 동작 |
| DXF 버전 호환 | R12~R2018 파일 처리 |
| 대용량 파일 | 10MB+ 파일 처리 시간, 메모리 |
| 특수 케이스 | 빈 도면, 단일 엔티티, 곡선만 있는 도면 |

### 10.3 사용자 수용 테스트 (UAT)

| 테스트 | 기준 |
|--------|------|
| 실제 업무 적용 | 실제 작업 도면으로 테스트 |
| 결과물 품질 | CAD에서 열어 확인 |
| 작업 시간 비교 | 수작업 대비 시간 단축 |
| 피드백 반영 | 사용자 의견 수집 |

---

## 11. 위험 요소 및 완화 전략

| 위험 요소 | 영향도 | 발생 가능성 | 완화 전략 |
|----------|--------|------------|----------|
| DXF 호환성 문제 | 높음 | 중간 | 다양한 버전 테스트, ezdxf 최신 버전 사용 |
| 브릿지 품질 불만족 | 중간 | 중간 | 파라미터 세분화, 수동 편집 기능 |
| 복잡한 도면 처리 실패 | 중간 | 낮음 | 예외 처리 강화, 부분 수동 모드 |
| 성능 문제 (대용량) | 낮음 | 낮음 | 프로그레스 표시, 최적화 |
| 사용자 학습 곡선 | 낮음 | 중간 | 직관적 UI, 도움말/툴팁 |

---

## 12. 성공 지표 (KPI)

| 지표 | 현재 | 목표 | 측정 방법 |
|------|------|------|----------|
| 도면당 작업 시간 | 15~30분 | 3~5분 | 타이머 비교 |
| 작업 오류율 | 5~10% | <1% | 재작업 횟수 |
| 브릿지 일관성 | 불균일 | 규칙 기반 균일 | 시각적 검사 |
| 사용자 만족도 | - | 4.0/5.0 | 설문 조사 |
| 일일 처리량 | 20~30건 | 50건+ | 작업 로그 |

---

## 13. 부록

### 13.1 용어 정의

| 용어 | 영문 | 설명 |
|------|------|------|
| 칼 선 | Cut Line | 제품을 자르는 선 (레이저/톰슨 커팅) |
| 오시 선 | Crease Line | 접는 선 (크리싱, 스코어링) |
| 브릿지 | Bridge | 선을 끊어 연결 부위를 만드는 것, 갭(Gap) |
| 정타 | Front Side | 인쇄면 기준 도면 (앞면) |
| 후타 | Back Side | 후면 기준 도면 (뒷면) |
| 동판 | Copper Plate | 동판 작업용 (하단 여백 25mm) |
| 자동판 | Auto Plate | 자동 제작용 (하단 여백 15mm) |
| 절수표 | Paper Size Chart | 표준 인쇄 용지 규격표 |
| 합판 | Plywood | 외곽 프레임 사각형 |
| 일자칼 | Straight Knife | 도면 좌우 연장선 |
| 톰슨 | Thomson | 목형 가공 방식 |
| 바운딩 박스 | Bounding Box | 최소 외접 사각형 |

### 13.2 DXF 엔티티 타입

| 타입 | 설명 | 브릿지 적용 |
|------|------|------------|
| LINE | 직선 | ○ |
| ARC | 호 | × |
| CIRCLE | 원 | × |
| POLYLINE | 폴리라인 (2D) | 직선 세그먼트만 |
| LWPOLYLINE | 경량 폴리라인 | 직선 세그먼트만 |
| SPLINE | 스플라인 | × |
| ELLIPSE | 타원 | × |
| TEXT | 단일행 텍스트 | - |
| MTEXT | 다중행 텍스트 | - |

### 13.3 AutoCAD Color Index (ACI) 참조

| ACI | 색상 | 용도 (기본) |
|-----|------|------------|
| 1 | 빨강 | 칼 선 |
| 2 | 노랑 | - |
| 3 | 녹색 | 보조선 |
| 4 | 청록 | - |
| 5 | 파랑 | 오시 선 |
| 6 | 마젠타 | - |
| 7 | 흰/검 | 합판, 텍스트 |

### 13.4 참고 자료

- ezdxf 공식 문서: https://ezdxf.readthedocs.io/
- PyQt6 문서: https://www.riverbankcomputing.com/static/Docs/PyQt6/
- DXF 참조 (Autodesk): https://help.autodesk.com/view/OARX/2024/ENU/?guid=GUID-235B22E0-A567-4CF6-92D3-38A2306D73F3

---

## 14. 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 1.0 | 2024-12-30 | 초안 작성 | - |
| 2.0 | 2024-12-30 | 검증 및 상세화 | - |
|     |            | - 알고리즘 상세 추가 | |
|     |            | - 에러 처리 시나리오 추가 | |
|     |            | - UI 상세화 | |
|     |            | - 검증 규칙 추가 | |
|     |            | - 엣지 케이스 정의 | |

---

## 15. 승인

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| 제품 책임자 | | | |
| 기술 리드 | | | |
| QA 담당 | | | |

---

*문서 끝*
